# ğ—–ğ—œğ—§ğ—”ğ——ğ—˜ğ—Ÿ ğ—•ğ—¥ğ—¢ğ—ªğ—¦ğ—˜ğ—¥

## Privacy is not a feature. It's the entire fucking point.

A from-scratch browser engine engineered to obliterate tracking, crush fingerprinting, and restore user sovereignty with extreme technical precision.

## âš ï¸ ALPHA SOFTWARE DISCLAIMER âš ï¸

**Version: 0.0.1-alpha**

ğŸš¨ **THIS IS ALPHA SOFTWARE - USE AT YOUR OWN RISK** ğŸš¨

- **NOT FOR PRODUCTION USE**: This software is experimental and under active development
- **EXPECT BUGS**: Features may not work as expected, crash, or behave unpredictably
- **DATA LOSS POSSIBLE**: Do not rely on this software for critical browsing or data storage
- **SECURITY VULNERABILITIES**: Alpha software may contain security flaws - do not use for sensitive activities
- **NO WARRANTY**: This software is provided "as is" without any warranty of any kind
- **BREAKING CHANGES**: APIs, features, and functionality may change dramatically between releases
- **NOT RESPONSIBLE**: We are not responsible if this software causes any issues, including but not limited to:
  - System crashes or instability
  - Data corruption or loss
  - Security breaches
  - Being eaten by a Gru
  - Spontaneous combustion of your computer
  - Temporal paradoxes
  - Existential crises
  - Or any other unforeseen consequences

**By using this software, you acknowledge that you understand these risks and use it entirely at your own discretion.**

![image](https://github.com/user-attachments/assets/facfd73d-6552-4f11-9685-fd142b7ed33d)

## Project Status

âš ï¸ **EARLY DEVELOPMENT** âš ï¸  
This project is in the early stages of development and is not yet ready for production use.

### Current Implementation Status

- âœ… Core architecture and component interfaces defined
- âœ… Basic unit tests for all components with 100% pass rate
- âœ… Continuous integration and testing infrastructure
- âœ… Vertical tabs implemented and enabled by default
- âœ… Tab bar visibility controls
- âœ… UI customization (theme settings, layout preferences)
- âœ… Privacy-first networking layer with LOCAL_CACHE as default DNS mode
- âœ… Privacy-preserving DNS resolver with local caching
- âœ… HTTPS-only secure connections
- âœ… Privacy-enhancing request headers
- âœ… Tracking parameter removal from URLs
- âœ… Header fingerprint randomization
- âœ… **JavaScript engine integration with rquickjs**
- âœ… **DOM bindings for JavaScript execution**
- âœ… **Security policies for script execution and CSP compliance**
- âœ… **JavaScript engine tests with DOM integration (all passing)**
- ğŸ”„ Enhancing additional privacy and security features
- ğŸ”„ Implementing advanced browsing functionality

## ğ—¢ğ˜‚ğ—¿ ğ— ğ—¶ğ˜€ğ˜€ğ—¶ğ—¼ğ—»

Citadel isn't just a browser engineâ€”it's a declaration of digital human rights. We're built for those who understand that privacy is not a luxuryâ€”it's a fundamental necessity.

In an era where users are treated as products and their data harvested without consent, we're taking a scorched-earth approach to browser privacy that makes surveillance capitalism weep.

Open-source. Uncompromising. Zero-tracking. Future-proof.

### ğ—¦ğ—²ğ—°ğ˜‚ğ—¿ğ—¶ğ˜ğ˜† ğ—®ğ˜€ ğ—® ğ—Ÿğ—¶ğ—³ğ—²ğ˜€ğ˜ğ˜†ğ—¹ğ—²
Privacy isn't just a feature. It's the entire point of our existence.

### ğ—©ğ—®ğ—»ğ—´ğ˜‚ğ—®ğ—¿ğ—± ğ—¼ğ—³ ğ—”ğ˜‚ğ˜ğ—¼ğ—»ğ—¼ğ—ºğ˜†
Zero compromise on user control over their digital experience.

### ğ—¨ğ˜€ğ—²ğ—¿ ğ—¦ğ—¼ğ˜ƒğ—²ğ—¿ğ—²ğ—¶ğ—´ğ—»ğ˜ğ˜†
Users control their data with no forced third-party dependencies.

## ğ—£ğ—¿ğ—¶ğ˜ƒğ—®ğ—°ğ˜† ğ—˜ğ—»ğ—´ğ—¶ğ—»ğ—²ğ—²ğ—¿ğ—¶ğ—»ğ—´

### ğ—§ğ—¿ğ—®ğ—°ğ—¸ğ—²ğ—¿ ğ—¡ğ—²ğ˜‚ğ˜ğ—¿ğ—®ğ—¹ğ—¶ğ˜‡ğ—®ğ˜ğ—¶ğ—¼ğ—»
Dynamic blocklists + machine learning detection that annihilates even the most persistent tracking attempts.

### ğ—”ğ—»ğ˜ğ—¶-ğ—™ğ—¶ğ—»ğ—´ğ—²ğ—¿ğ—½ğ—¿ğ—¶ğ—»ğ˜ğ—¶ğ—»ğ—´
Canvas fingerprinting prevention, hardware API restriction, and tactical noise injection to mask your digital identity.

### ğ—›ğ—®ğ—¿ğ—±ğ—°ğ—¼ğ—¿ğ—² ğ—¦ğ—®ğ—»ğ—±ğ—¯ğ—¼ğ˜…ğ—¶ğ—»ğ—´
Per-site process isolation with strict content security policies and cross-site data access prevention.

### ğ—¡ğ—²ğ˜ğ˜„ğ—¼ğ—¿ğ—¸ ğ—£ğ—¿ğ—¶ğ˜ƒğ—®ğ—°ğ˜†
User-controlled DNS resolution, minimal HTTP headers, and connection fingerprint randomization.

### ğ—–ğ—¼ğ—¼ğ—¸ğ—¶ğ—² ğ—–ğ—¼ğ—»ğ˜ğ—¿ğ—¼ğ—¹
First-party isolation, automatic expiration, and granular user-controlled storage permissions.

### ğ—¨ğ˜€ğ—²ğ—¿ ğ—¦ğ—¼ğ˜ƒğ—²ğ—¿ğ—²ğ—¶ğ—´ğ—»ğ˜ğ˜†
Granular privacy controls, transparent data logs, and one-click protection escalation.

## ğ—”ğ—¿ğ—°ğ—µğ—¶ğ˜ğ—²ğ—°ğ˜ğ˜‚ğ—¿ğ—®ğ—¹ ğ—–ğ—¼ğ—ºğ—½ğ—¼ğ—»ğ—²ğ—»ğ˜ğ˜€

Citadel is built with these core components, all implemented with Rust's strong encapsulation features:

### ğ—£ğ—®ğ—¿ğ˜€ğ—²ğ—¿ ğ—Ÿğ—®ğ˜†ğ—²ğ—¿
- Weaponized HTML/CSS/JS parsing with injection-proof design and malformed input termination protocols
- Attack surface minimization through careful API implementation and selective standard support
- Security-first input handling designed to fail closed rather than open when encountering edge cases

### ğ—ğ—®ğ˜ƒğ—®ğ—¦ğ—°ğ—¿ğ—¶ğ—½ğ˜ ğ—˜ğ—»ğ—´ğ—¶ğ—»ğ—² âœ…
- **Integrated rquickjs engine** with hardcore sandbox environment and surgically removed tracking APIs
- **DOM bindings implemented** with security policies and CSP compliance enforcement
- **Privacy-preserving execution** with zero external data transmission capabilities for scripts
- **Comprehensive test suite** with DOM integration and security validation (all tests passing)
- Performance-optimized execution that doesn't sacrifice security for convenience

### ğ—¡ğ—²ğ˜ğ˜„ğ—¼ğ—¿ğ—¸ğ—¶ğ—»ğ—´ ğ—Ÿğ—®ğ˜†ğ—²ğ—¿
- User-controlled DNS resolution with local cache by default and no reliance on third-party DNS services
- HTTPS-or-die approach that defaults to secure connections and hardens TLS implementation
- Connection fingerprint randomization to prevent server-side tracking and correlation

### ğ—¨ğ˜€ğ—²ğ—¿ ğ—œğ—»ğ˜ğ—²ğ—¿ğ—³ğ—®ğ—°ğ—²
- Granular privacy controls that give users complete visibility and authority over their data
- Transparent data transmission logs showing exactly what information websites are attempting to access
- Vertical tabs by default for improved usability and efficient screen space utilization

## Networking Features

The networking layer is the foundation of Citadel's privacy-preserving architecture:

### Privacy-First DNS

- **Local Cache by Default**: Minimize network requests that could be tracked
- **No Third-Party DNS Services**: We never use external DNS services without your explicit consent
- **Optional Secure DNS**: Support for DNS over HTTPS (DoH) and DNS over TLS (DoT) as user options
- **Normalized TTLs**: Prevent timing-based tracking through DNS

### Secure Connections

- **HTTPS Only**: All connections must use HTTPS for privacy and security
- **Strict TLS**: Modern, secure TLS configurations
- **Certificate Validation**: Thorough certificate checking
- **Connection Security Levels**: Configure security vs. compatibility

### Privacy-Enhanced Requests

- **Header Management**: Remove or normalize headers that could be used for tracking
- **Fingerprint Randomization**: Prevent browser fingerprinting through request headers
- **User-Agent Control**: Randomize or normalize your User-Agent
- **URL Cleaning**: Automatically strip tracking parameters from URLs
- **Privacy Levels**: Configure maximum, high, or balanced privacy settings

### UI Features

- **Tab Management**
  - **Vertical Tabs**: Enabled by default for better screen utilization and improved tab visibility
  - **Tab Bar Visibility**: Toggle tab bar on/off with Ctrl+H
  - **Tab Layout**: Switch between vertical and horizontal tabs with Ctrl+Shift+V
  - **Theme Support**: Choose between light, dark, or system theme

## Privacy & Security Features

### Key Privacy Principles

- **User Sovereignty**: All privacy decisions are in your hands
- **No Third-Party Dependencies**: Local cache for DNS by default - no data sent to third-party DNS providers
- **Zero Tracking**: No fingerprinting, no tracking, no exceptions

## Design Patterns

### Rust Module Architecture

All major components in Citadel use Rust's powerful module system, which provides:

- **Improved Encapsulation**: Implementation details are hidden from the public interface
- **Memory Safety**: Rust's ownership system eliminates entire classes of bugs
- **Fearless Concurrency**: Safe concurrent code without data races
- **Zero-Cost Abstractions**: High-level concepts without runtime overhead
- **Cleaner Code Organization**: Clear separation between interface and implementation

## Getting Started

### Platform Support

Citadel Browser is primarily designed for **macOS**, with limited Linux support for unit testing and development purposes.

- **macOS**: Primary platform with full feature support
- **Linux**: Limited support for development and testing only

### Prerequisites

- Rust and Cargo (latest stable)
- macOS 11.0+ (Big Sur or newer)
- Xcode Command Line Tools
- For Linux development/testing only:
  - pkg-config
  - OpenSSL dev packages
  - Fontconfig dev packages

### Building from Source

```bash
git clone https://github.com/yourusername/citadel-browser-rust.git
cd citadel-browser-rust
cargo build
```

### Running Tests

```bash
cargo test
```

### Running Examples

```bash
# Run the HTML fetching example
cargo run --example fetch_html
```

## Project Structure

```
citadel-browser-rust/
â”œâ”€â”€ Cargo.toml             # Workspace configuration
â”œâ”€â”€ crates/                # Rust crates
â”‚   â”œâ”€â”€ networking/        # Privacy-preserving networking components
â”‚   â”‚   â”œâ”€â”€ src/           # Source code
â”‚   â”‚   â”‚   â”œâ”€â”€ dns.rs     # Privacy-focused DNS resolver
â”‚   â”‚   â”‚   â”œâ”€â”€ request.rs # Privacy-enhancing HTTP requests
â”‚   â”‚   â”‚   â”œâ”€â”€ response.rs # HTTP response handling
â”‚   â”‚   â”‚   â”œâ”€â”€ connection.rs # Secure connection management
â”‚   â”‚   â”‚   â”œâ”€â”€ resource.rs # Resource fetching
â”‚   â”‚   â”‚   â”œâ”€â”€ error.rs   # Error handling
â”‚   â”‚   â”‚   â””â”€â”€ lib.rs     # Library entry point
â”‚   â”‚   â”œâ”€â”€ examples/      # Usage examples
â”‚   â”‚   â””â”€â”€ tests/         # Integration tests
â”‚   â”œâ”€â”€ parser/            # HTML/CSS/JS parsing components with integrated JS engine
â”‚   â”‚   â”œâ”€â”€ src/js/        # JavaScript engine integration (rquickjs)
â”‚   â”œâ”€â”€ privacy/           # (Coming soon) Privacy enhancement system
â”‚   â”œâ”€â”€ security/          # (Coming soon) Security enforcement system
â”‚   â””â”€â”€ ui/                # (Coming soon) User interface components
â””â”€â”€ tests/                 # Integration tests
```

## ğ—¥ğ—¼ğ—®ğ—±ğ—ºğ—®ğ—½

### 1. Alpha Stage
Core engine implementation with fundamental privacy protections:
- Parser and JavaScript engine with tracking API removal
- Basic networking layer with HTTPS enforcement
- Initial fingerprinting protection implementation

### 2. Beta Stage
Enhanced protection and performance improvements:
- Machine learning tracker detection
- Advanced fingerprinting countermeasures
- User interface with privacy controls and real-time tracking visualization

### 3. Release Stage
Fully-featured browser with comprehensive privacy protection:
- Complete engine integration with all privacy modules
- Cross-platform support (desktop and mobile)
- Extension API with strict privacy requirements

### 4. Future Expansion
Beyond the horizon:
- Advanced threat intelligence integration
- Privacy-preserving cloud syncing (optional)
- Enhanced OS integration with system-wide privacy controls

## ğ—ğ—¼ğ—¶ğ—» ğ˜ğ—µğ—² ğ—£ğ—¿ğ—¶ğ˜ƒğ—®ğ—°ğ˜† ğ—¥ğ—²ğ˜ƒğ—¼ğ—¹ğ˜‚ğ˜ğ—¶ğ—¼ğ—»

Citadel is currently in early alpha. Help us build a more private, more secure web experience for everyone.

### Contributing

We welcome contributions that align with our vision of uncompromising privacy and security. Please read [CONTRIBUTING.md](CONTRIBUTING.md) for details on our code of conduct and the process for submitting pull requests.

## License

This project is licensed under the [MIT License](LICENSE)

## Acknowledgments

Inspired by those who believe in digital autonomy and the right to privacy in an increasingly surveilled digital landscape.

See [DESIGN.md](DESIGN.md) for comprehensive information about project architecture and philosophy.

---

Â© 2025 Citadel Browser. Open-source. Uncompromising. Zero-tracking.

## Testing & Security

### Security-First Development

Citadel is built with a security-first mindset. We use several approaches to ensure our code is robust:

#### Comprehensive Testing

```bash
# Run the standard test suite
cargo test

# Run integration tests
cargo test --test '*'
```

#### Continuous Fuzzing

We employ aggressive fuzzing to discover and fix security issues before they reach production:

```bash
# Switch to nightly Rust (required for fuzzing)
rustup default nightly

# Install LLVM tools component
rustup component add llvm-tools-preview

# Install cargo-fuzz (required for fuzzing)
cargo install cargo-fuzz

# Generate corpus for more effective fuzzing
./fuzz/scripts/generate_corpus.sh

# Run all fuzzers with enhanced memory checking
./fuzz/scripts/run_all_fuzzers.sh

# Or run individual fuzzers with dictionaries
cd fuzz && cargo fuzz run dns_resolver corpus/dns_resolver -dict=dictionaries/dns.dict
```

Each fuzzer uses dictionaries and corpus files specifically designed to test edge cases and potential security vulnerabilities. Our CI automatically runs these fuzzers on every commit to ensure continuous security testing.

See [FUZZING.md](FUZZING.md) for our complete fuzzing strategy and details on how to contribute to our security efforts.

Any fuzzing failures are considered critical build failures and must be addressed immediately to maintain our security standards.
